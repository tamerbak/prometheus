<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:rich="http://richfaces.org/rich" xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="#{frontController.masterPage}">


	<ui:define name="contenu">
	<p:growl id="growl" showDetail="true" sticky="true" />
	<h1 style="padding-left: 10px;">Analyse des écarts</h1>
		<p:dialog id="dlg2" closable="false" widgetVar="dlg2" modal="false" resizable="false" dynamic="false" > 
			<p:graphicImage value="/images/loading.gif" />
			<p:spacer width="20" height="10" />
			<label style="position: relative;bottom: 10px;">Chargement ...</label>
		</p:dialog> 
		
		<p:wizard id="wiz" widgetVar="wiz" backLabel="Précédent" nextLabel="Suivant" flowListener="#{asgardControl.onFlowProcess}">
			<p:tab id="repreval" title="Paramétrage" >
				<p:panelGrid columns="2" style="width:100%">
					<p:outputLabel for="dimension" value="Valeur" />
					<p:selectOneMenu id="dimension" style="width:250px" value="#{asgardControl.selectedDimensions}">
						<f:selectItem itemLabel="Ventes" itemValue="user_facture_de_vente" />
						<f:selectItem itemLabel="Production" itemValue="user_production" />
					</p:selectOneMenu>
					
					<p:outputLabel for="periode" value="Période" />
					<p:selectOneMenu id="periode" style="width:250px" value="#{asgardControl.selectedPeriode}">
						<f:selectItem itemLabel="Toutes les périodes 2014" itemValue="0" />
						<f:selectItem itemLabel="Janvier 2014" itemValue="1" />
						<f:selectItem itemLabel="Février 2014" itemValue="2" />
						<f:selectItem itemLabel="Mars 2014" itemValue="3" />
						<f:selectItem itemLabel="Avril 2014" itemValue="4" />
						<f:selectItem itemLabel="Mai 2014" itemValue="5" />
						<f:selectItem itemLabel="Juin 2014" itemValue="6" />
						<f:selectItem itemLabel="Juillet 2014" itemValue="7" />
						
					</p:selectOneMenu>
				</p:panelGrid>
			</p:tab>
			
			<p:tab id="visitdimensions" title="Ecarts">
				<p:panel style="width:98%">
					<p:panelGrid style="width:100%">
					<f:facet name="header">
						<p:row>
							<p:column headerText="Période">
								Période
							</p:column>
							<p:column headerText="Prévisions">
								Prévisions
							</p:column>
							<p:column headerText="Réalisations">
								Réalisations
							</p:column>
							<p:column headerText="Ecart">
								Ecart
							</p:column>
						</p:row>
					</f:facet>
						<p:row>
							<p:column headerText="Période">
								Janvier 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								<h:outputText value="#{asgardControl.ventesCalculated}"> €
									<f:convertNumber minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column headerText="Réalisations">
								<h:outputText value="#{asgardControl.ecartVentes}">€
									<f:convertNumber minFractionDigits="2" maxFractionDigits="2" />
								</h:outputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Février 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Mars 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Avril 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Mai 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Juin 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Juillet 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Août 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Septembre 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Octobre 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Novembre 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						<p:row>
							<p:column headerText="Période">
								Décembre 2014
							</p:column>
							<p:column headerText="Prévisions">
								6319,44 €
							</p:column>
							<p:column headerText="Réalisations">
								0 €
							</p:column>
							<p:column headerText="Réalisations">
								- 6319,44 €
							</p:column>
						</p:row>
						
					</p:panelGrid>
				</p:panel>
				<p:spacer width="5" height="20" />
				<p:panel style="width:98%">
					<p:barChart id="basic" value="#{asgardControl.categoryModel}" legendPosition="ne"  
            				title="Analyse des écarts"  style="height:300px"/>
				</p:panel>
			</p:tab>
			
		</p:wizard>
		
	</ui:define>
	
	<ui:define name="aide">
		<p:panel closable="true" rendered="#{frontController.showRightPanel}" toggleable="true" collapsed="true" style="width:100%" >
		<f:facet name="header">Aide</f:facet>
		<p>
			&nbps;L'arbre de pilotag permet la création d'un tableau de bord personnalisé
		</p>
		<p>
		La création du tableau de bord se fait sous forme d'étapes, et l'assistant vous permettra d'identifier les différents paramétres pour
		définir le tableau de bord</p>
		</p:panel>
	</ui:define>
	

</ui:composition>
</html>