<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:rich="http://richfaces.org/rich"  xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>GENERIUM</title>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
	<link href="#{facesContext.externalContext.requestContextPath}/css/admin.css" rel="stylesheet" type="text/css"  title="style 0" media="screen" />
	
<script type="text/javascript" language="Javascript" >
PrimeFaces.locales ['fr'] = {
	    closeText: 'Fermer',
	    prevText: 'Précédent',
	    nextText: 'Suivant',
	    monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre' ],
	    monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc' ],
	    dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
	    dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
	    dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
	    weekHeader: 'Semaine',
	    firstDay: 1,
	    isRTL: false,
	    showMonthAfterYear: false,
	    yearSuffix:'',
	    timeOnlyTitle: 'Choisir l\'heure',
	    timeText: 'Heure',
	    hourText: 'Heures',
	    minuteText: 'Minutes',
	    secondText: 'Secondes',
	    currentText: 'Maintenant',
	    ampm: false,
	    month: 'Mois',
	    week: 'Semaine',
	    day: 'Jour',
	    allDayText: 'Toute la journée'
	};
</script>

</h:head>
<h:body style="background-image:url(img/bgeffect.png);background-repeat:no-repeat;background-attachment:fixed;background-color:white;">
<f:view>
	<h:form>
	<p:growl id="logingrowl" showDetail="false" sticky="false" />
	<div style="position:fixed; width:600px; height:128px;top:5%;left:50%; margin-left:-300px;background-image:url(img/big_logo.png)">
	</div>
	<div style="position:fixed; top:30%;left:50%;width:500px; margin-left:-250px;">
		
			<p:outputPanel rendered="#{!userServices.validform}" deferred="true">  
			    <h1>Lien invalide</h1>  
			    <h2  style="padding-left: 10px;">			
			    Le lien que vous avez tuilisé est invalide ! Nous vous invitons à nous <a style="font: 19px/20px verdana,sans-serif;color: #2E6E9E;margin: 0 0 4px 0;" href="mailto:admin@gpsdelagestion.com">contacter</a> pour plus d'information		     
			    </h2>
			    
			</p:outputPanel>
			
			<p:panelGrid columns="2" style="width:100%;height:100%;" rendered="#{userServices.validform}">
				<f:facet name="header">
					Nouveau mot de passe
				</f:facet>
				<h:outputLabel for="user_mail"  value="E-mail" style="font-size:12px" />
				<p:inputText id="user_mail" value="#{userServices.email}" style="width:170px" requiredMessage="E-Mail obligatoire" validatorMessage="Veuillez saisir une adresse valide" required="true">
					<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
				</p:inputText>
				<h:outputLabel for="password" value="Nouveau mot de passe" style="font-size:12px" />
				<p:password validatorMessage="Les deux mots de passes sont différents" id="password" style="width:170px" value="#{userServices.password}" match="cfpassword"  requiredMessage="Le mot de passe est obligatoire" required="true"/>
				<h:outputLabel for="cfpassword" value="Confirmer" style="font-size:12px" />
				<p:password id="cfpassword" value="#{userServices.password}"  style="width:170px" requiredMessage="Le mot de passe est obligatoire" required="true" />
				<f:facet name="footer">
					<p:commandButton value="Valider" action="#{userServices.doChangePwd}" />
				</f:facet>
			</p:panelGrid>
		
	</div>	
			
	</h:form>
</f:view>
</h:body>
</html>